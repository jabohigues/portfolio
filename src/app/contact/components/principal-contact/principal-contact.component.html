<form [formGroup]="registroForm" id="formContact">
  <h1>Contáctame</h1>

  <!-- Name -->
  <mat-form-field
    hideRequiredMarker
    appearance="outline"
    class="{{ isCorrect['name'] ? 'inputCorrect' : '' }}"
  >
    <mat-label>Nombre</mat-label>
    <input
      name="name"
      matInput
      placeholder="Escriba su nombre"
      required
      formControlName="name"
      (blur)="checkIsCorrect('name')"
    />
    <mat-error
      *ngIf="
        registroForm.controls['name'].invalid &&
        (registroForm.controls['name'].dirty ||
          registroForm.controls['name'].touched)
      "
    >
      <span *ngIf="registroForm.controls['name'].hasError('required')">
        Debes poner un nombre
      </span>
    </mat-error>
  </mat-form-field>

  <!-- Surname1 -->
  <mat-form-field
    hideRequiredMarker
    appearance="outline"
    class="{{ isCorrect['surname'] ? 'inputCorrect' : '' }}"
  >
    <mat-label>Primer apellido</mat-label>
    <input
      name="surname"
      matInput
      placeholder="Escriba su primer apellido"
      required
      formControlName="surname"
      (blur)="checkIsCorrect('surname')"
    />
    <mat-error
      *ngIf="
        registroForm.controls['surname'].invalid &&
        (registroForm.controls['surname'].dirty ||
          registroForm.controls['surname'].touched)
      "
    >
      <span *ngIf="registroForm.controls['surname'].hasError('required')">
        Debes poner un apellido
      </span>
    </mat-error>
  </mat-form-field>

  <!-- Surname -->
  <mat-form-field appearance="outline">
    <mat-label>Segundo apellido (opcional)</mat-label>
    <input matInput />
  </mat-form-field>

  <!-- Email -->
  <mat-form-field
    class="{{ isCorrect['email'] ? 'inputCorrect' : '' }}"
    hideRequiredMarker
    appearance="outline"
  >
    <mat-label>Correo electrónico</mat-label>
    <div class="icon">
      <input
        name="email"
        matInput
        placeholder="user@example.com"
        required
        formControlName="email"
        (blur)="checkIsCorrect('email')"
      />
      <span class="material-icons"> mail </span>
    </div>
    <mat-error
      *ngIf="
        registroForm.controls['email'].invalid &&
        (registroForm.controls['email'].dirty ||
          registroForm.controls['email'].touched)
      "
    >
      <span *ngIf="registroForm.controls['email'].hasError('required')">
        Debes poner un correo electrónico
      </span>
      <span *ngIf="registroForm.controls['email'].hasError('email')">
        Introduce un correo válido
      </span>
    </mat-error>
  </mat-form-field>

  <!-- Phone -->
  <mat-form-field
    class="{{ isCorrect['phone'] ? 'inputCorrect' : '' }}"
    hideRequiredMarker
    appearance="outline"
  >
    <mat-label>Teléfono</mat-label>
    <div class="icon">
      <input
        name="phone"
        type="number"
        matInput
        required
        formControlName="phone"
        (blur)="checkIsCorrect('phone')"
      />
      <span class="material-icons"> phone </span>
    </div>
    <mat-error
      *ngIf="
        registroForm.controls['phone'].invalid &&
        (registroForm.controls['phone'].dirty ||
          registroForm.controls['phone'].touched)
      "
    >
      <span *ngIf="registroForm.controls['phone'].hasError('required')">
        Debes poner un número de teléfono
      </span>
    </mat-error>
  </mat-form-field>

  <!-- Message -->
  <mat-form-field
    class="{{ isCorrect['message'] ? 'inputCorrect' : '' }}"
    hideRequiredMarker
    appearance="outline"
  >
    <mat-label>Mensaje</mat-label>
    <textarea
      name="message"
      matInput
      #input
      required
      formControlName="message"
      maxlength="500"
      (blur)="checkIsCorrect('message')"
    >
    </textarea>
    <mat-hint align="end">{{ input.value.length }}/500</mat-hint>
    <mat-error
      *ngIf="
        registroForm.controls['message'].invalid &&
        (registroForm.controls['message'].dirty ||
          registroForm.controls['message'].touched)
      "
    >
      <span *ngIf="registroForm.controls['message'].hasError('required')">
        Debes poner un mensaje
      </span>
      <span *ngIf="registroForm.controls['message'].hasError('maxlength')">
        Lo siento, el máximo es de 500 caracteres.
      </span>
    </mat-error>
  </mat-form-field>
  <button
    type="submit"
    [disabled]="registroForm.invalid"
    class="{{ registroForm.invalid ? 'invalidForm' : 'validForm' }}"
    mat-raised-button
  >
    Enviar mensaje
  </button>
</form>
